{# @pebvariable name="model" type="ru.yarsu.web.models.admin.UserVM" #}
    {% extends "../Layout.peb" %}

    {% block style %}
<link href="/css/Teacher.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container mt-5">
    <a href="/admin/users" class="btn btn-outline-secondary mb-4">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a>

    <div class="card shadow-lg">
        <div class="row g-0">
            <div class="col-md-5">
                {% if model.user.images is not empty %}
                    <div class="mb-2">
                        <img id="teacher-photo-preview" src="/image/{{ model.user.images[0] }}" alt="–§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
                             class="img-thumbnail" style="max-width: 200px;">
                    </div>
                {% else %}
                    <div class="mb-2">
                        <img src="/img/defaultTeacher.webp" alt="–§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
                             class="img-thumbnail" style="max-width: 200px;">
                    </div>
                {% endif %}
            </div>

            <div class="col-md-7">
                <div class="card-body">
                    <h2 class="card-title mb-2">{{ model.user.name }}</h2>
                    {% if model.user.description is not null and model.user.description != "" %}
                        <p class="card-text text-muted mb-3">{{ model.user.description }}</p>
                    {% else %}
                        <p class="card-text text-muted mb-3">–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</p>
                    {% endif %}

                    <p class="card-text"><strong>üìû –¢–µ–ª–µ—Ñ–æ–Ω:</strong>
                        {% if model.user.phone is not null and model.user.phone != "" %}
                            {{ model.user.phone }}
                        {% else %}
                            –ù–µ —É–∫–∞–∑–∞–Ω
                        {% endif %}
                    </p>

                    <p class="card-text"><strong>üë©‚Äçüè´ –û–ø—ã—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è:</strong>
                        {% if model.user.experience is not null %}
                    {{ model.user.experience }} –ª–µ—Ç
                        {% else %}
                            –ù–µ —É–∫–∞–∑–∞–Ω
                        {% endif %}
                    </p>

                    <p class="card-text"><strong>üëõ –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ —á–∞—Å:</strong>
                        {% if model.user.price is not null and model.user.price != "" %}
                            {{ model.user.price }}
                        {% else %}
                            –ù–µ —É–∫–∞–∑–∞–Ω–∞
                        {% endif %}
                    </p>

                    <div class="row mb-3">
                        <div class="col-sm-3"><strong>üé∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</strong></div>
                        <div class="col-sm-9">
                            {% if model.abilityNames is not null and model.abilityNames != "" %}
                                {{ model.abilityNames }}
                            {% else %}
                                <span class="text-muted">–ù–µ —É–∫–∞–∑–∞–Ω—ã</span>
                            {% endif %}
                        </div>
                    </div>

                    <hr>

                    <div class="mb-3">
                        <h5 class="text-primary">üìç –ê–¥—Ä–µ—Å</h5>
                        {% if model.user.address is not null and model.user.address != "" %}
                            <p>{{ model.user.address }}</p>
                        {% else %}
                            <p>–ê–¥—Ä–µ—Å –Ω–µ —É–∫–∞–∑–∞–Ω</p>
                        {% endif %}

                        {% if model.user.district is not null %}
                            <p><strong>–†–∞–π–æ–Ω:</strong> {{ model.user.district.district }}</p>
                        {% else %}
                            <p><strong>–†–∞–π–æ–Ω:</strong> <span class="text-muted">–ù–µ —É–∫–∞–∑–∞–Ω</span></p>
                        {% endif %}
                    </div>

                    <div class="d-flex gap-3 mt-4 flex-wrap">

                        <!-- –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                        <form method="post" action="/admin/user/delete/{{ model.user.id }}" onsubmit="return confirm('–í—ã —Ç–æ—á–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ model.user.name }}? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')">
                            <button class="btn btn-danger btn-lg" type="submit">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                        </form>

                        <!-- –†–æ–ª—å –£—á–∏—Ç–µ–ª—å -->
                        {% if not model.hasTeacherRole %}
                            <form method="post" action="/admin/user/roles/teacher/add/{{ model.user.id }}" style="display:inline;">
                                <button class="btn btn-success btn-lg" type="submit">–î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å –£—á–∏—Ç–µ–ª—å</button>
                            </form>
                        {% else %}
                            <form method="post" action="/admin/user/roles/teacher/remove/{{ model.user.id }}" style="display:inline;" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å –£—á–∏—Ç–µ–ª—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ model.user.name }}?')">
                                <button class="btn btn-warning btn-lg" type="submit">–£–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å –£—á–∏—Ç–µ–ª—å</button>
                            </form>
                        {% endif %}

                        <!-- –†–æ–ª—å –í–ª–∞–¥–µ–ª–µ—Ü -->
                        {% if not model.hasOwnerRole %}
                            <form method="post" action="/admin/user/roles/owner/add/{{ model.user.id }}" style="display:inline;">
                                <button class="btn btn-success btn-lg" type="submit">–î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å –í–ª–∞–¥–µ–ª–µ—Ü</button>
                            </form>
                        {% else %}
                            <form method="post" action="/admin/user/roles/owner/remove/{{ model.user.id }}" style="display:inline;" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å –í–ª–∞–¥–µ–ª–µ—Ü —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ model.user.name }}?')">
                                <button class="btn btn-warning btn-lg" type="submit">–£–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å –í–ª–∞–¥–µ–ª–µ—Ü</button>
                            </form>
                        {% endif %}
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
